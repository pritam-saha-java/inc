
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <link rel="icon" type="image/png" th:href="@{/server/assets/img/logo.png}"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://incallup.com/server/assets/styles/style.css">

    <title>Create New Account</title>
    <script type="text/javascript"  async defer src="https://maps.googleapis.com/maps/api/js?loading=async"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>

</head>

<body >




<div class=" container  border border-3 px-0 py-5 mt-5">

    <div th:if="${login!=null}">
        <div th:text="login" class="text-center">Please Login First</div>
    </div>

    <!-- <h1 class="text-center my-5  ">Register For Free <img src="https://incallup.com/server/assets/img/logo.png" alt="site-logo"></h1> -->
    <div class="  mt-3">
        <div class="row justify-content-center">
            <div class="col-auto">
                <div class="d-flex align-items-center">
                    <h6 class="text-center my-5   site-text2">Register For Free </h6>
                    <img class="rounded rounded-4 mx-1" style="max-width: 10rem; height: 3rem; background-color: var(--pink);" src="https://incallup.com/server/assets/img/logo.png" alt="site-logo">
                </div>
            </div>
        </div>
    </div>
    

    <form class="  " id="signup">
        <div class="mb-4 row justify-content-center " >

            <input  class="form-control-lg col-6 col-md-8 col-sm-8 rounded-5" type="text" name="username" id="username" placeholder="Username">
        </div>
        <div class="mb-4 row justify-content-center " >

            <input  class="form-control-lg col-6 col-md-8 col-sm-8 rounded-5" type="text" name="email" id="email" placeholder="Email">
        </div>
        <div class="mb-4 row justify-content-center">

            <input class="form-control-lg col-6 col-md-8 col-sm-8 rounded-5 " type="password" name="password" id="password" placeholder="Password">
        </div>

        <div class="mb-4 row justify-content-center">

            <input class="form-control-lg col-6 col-md-8 col-sm-8 rounded-5 " type="password" name="confirm" id="confirm" placeholder="Confirm Password">
        </div>

        <div class="mb-4 row  justify-content-center ">

            <button type="submit" class="btn bg-pink col-6 text-light btn-lg rounded-5 ">Submit</button>
        </div>
    </form>

    <!--<div class="text-center text-primary" hx-get="https://incallup.com/seller/forgot">Forgot Password</div>-->
    <div class="text-center">Already Registered?
        <a  class="text-pink" href="/seller/" >Sign In</a></div>


</div>






<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
</script>
<script>

    var element = document.getElementById('signup')

    element.addEventListener('submit', (event) => {
    event.preventDefault();
    // TODO do something here to show user that form is being submitted

   var email = element.querySelector('#email').value;
   var password = element.querySelector('#password').value;
   var confirm = element.querySelector('#confirm').value;
   var username = element.querySelector('#username').value;
    console.log(email.value)
    if(confirm!==password){
    alert('please match password with confirm password');
    return false;
    }

    var reqBody = "email="+email+"&password="+password+"&username="+username;


      var endpoint = 'https://incallup.com/seller/create';
       var response = fetch(endpoint, {
    body: reqBody,
    headers: {
        "Content-Type": "application/x-www-form-urlencoded",
    },
    method: "post",
})
.then(response => {
    if(response.status===200){
        alert('seller saved');
    }
})
;

    console.log(response.status);


});
</script>
<script th:src="@{/server/assets/scripts/main.js}"></script>
<script th:src="@{/server/assets/scripts/common.js}"></script>
</body>

</html>